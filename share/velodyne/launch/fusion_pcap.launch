<launch>

  <include file="$(find velodyne_pointcloud)/launch/nodelet_manager.launch">
  </include>
  
    <!-- start nodelet manager and driver nodelets -->
  <include file="$(find velodyne_driver)/launch/driver_nodelet.launch">
    <arg name="model" value="32E"/>
    <arg name="rpm" value="600"/>
    <arg name="pcap" value="/home/work/32e_gps.pcap"/>
    <arg name="node_name" value="driver_32e"/>
    <arg name="topic" value="/packets_32e"/>    
  </include>
  
  <!-- start cloud nodelet using test calibration file -->
  <include file="$(find velodyne_pointcloud)/launch/cloud_nodelet.launch">
    <arg name="model" default="32E" />
    <arg name="calibration" default="$(find velodyne_pointcloud)/params/32E_calibration.yaml" />
    <arg name="organized" default="false"/>
    <arg name="min_range" default="0.9" />
    <arg name="max_range" default="70.0" />
    <arg name="imu_sync" default="xsens" />
    <arg name="topic_pointcloud" default="/dusensor/velodyne/points_32e"/>
    <arg name="topic_packets" default="/packets_32e"/>
    <arg name="node_name" value="cloud_32e"/>
  </include>
  
      <!-- start nodelet manager and driver nodelets -->
  <include file="$(find velodyne_driver)/launch/driver_nodelet.launch">
    <arg name="model" value="VLP16"/>
    <arg name="rpm" value="600"/>
    <arg name="pcap" value="/home/work/vlp16_gps.pcap"/>
    <arg name="node_name" value="driver_vlp16"/>
    <arg name="topic" value="/packets_vlp16"/>   
  </include>
  
  <!-- start cloud nodelet using test calibration file -->
  <include file="$(find velodyne_pointcloud)/launch/cloud_nodelet.launch">
    <arg name="model" default="VLP16" />
    <arg name="calibration" default="$(find velodyne_pointcloud)/params/VLP16_calibration.yaml" />
    <arg name="organized" default="false"/>
    <arg name="min_range" default="0.9" />
    <arg name="max_range" default="70.0" />
    <arg name="imu_sync" default="xsens" />
    <arg name="topic_pointcloud" default="/dusensor/velodyne/points_vlp16"/>
    <arg name="topic_packets" default="/packets_vlp16"/>
    <arg name="node_name" value="cloud_vlp16"/>
  </include>
  
  <include file="$(find velodyne_pointcloud)/launch/fusion_nodelet.launch">
    <arg name="topic_pointclouds" value="/dusensor/velodyne/points_vlp16,/dusensor/velodyne/points_32e"/>
  </include>

</launch>
